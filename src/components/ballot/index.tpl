<section class="ballot-page">

    <div class="no-connection" style={{display: ::isConnected() ? "none" : "flex"}}>
        <div class="ooops">Ooops!</div>
        <div class="cant-connect">Can't connect. There is something invincible between me and my friend server.
        </div>
        <div class="try">Try refreshing me.</div>
        <button class="shake-button" onClick={::refresh}>Refresh</button>
    </div>

    <div style={{display: ::isConnected() ? "block" : "none"}}>

        <div class="page-grid" style={{display: ::question() ? "none" : "grid"}}>
            <div class="welcome">
                <div class="hooray">Hooray!</div>
                <div class="text">You are in!</div>
            </div>

            <div class="shake-message">
                <div class="icon">
                    <svg viewBox="0 0 60 60">
                        <path d="M28.996 49c-2.206 0-4 1.794-4 4s1.794 4 4 4 4-1.794 4-4-1.795-4-4-4zm0 6c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2-.897 2-2 2zm-3-50h4c.552 0 1-.447 1-1s-.448-1-1-1h-4c-.552 0-1 .447-1 1s.447 1 1 1zm7 0h1c.552 0 1-.447 1-1s-.448-1-1-1h-1c-.552 0-1 .447-1 1s.447 1 1 1zM4.199 13.342l-.253-.944c-.143-.533-.689-.852-1.225-.707-.533.144-.85.691-.707 1.225l.253.944c.12.447.524.741.965.741.085 0 .173-.011.26-.034.533-.144.85-.692.707-1.225zM2.106 9.863c.55-.053.953-.541.9-1.09-.008-.081-.012-.16-.012-.241 0-.152.015-.303.042-.449.106-.543-.25-1.066-.792-1.171-.541-.099-1.066.252-1.17.794-.053.275-.079.555-.079.828 0 .142.007.285.021.43.049.516.484.904.994.904.032 0 .064-.001.096-.005zm4.623 12.925l-.253-.945c-.143-.533-.69-.854-1.224-.707-.534.143-.851.69-.708 1.225l.253.945c.12.446.523.741.965.741.085 0 .172-.011.259-.034.535-.143.852-.691.708-1.225zm5.063 18.892l-.253-.944c-.143-.534-.69-.854-1.225-.707-.533.144-.85.691-.707 1.225l.253.944c.12.447.524.741.965.741.085 0 .173-.011.26-.034.534-.144.85-.692.707-1.225zM5.464 18.064l-.253-.944c-.143-.534-.69-.854-1.225-.707-.533.144-.85.691-.707 1.225l.253.944c.12.447.524.741.965.741.085 0 .173-.011.26-.034.534-.143.85-.691.707-1.225zM4.615 6.223c.085 0 .172-.011.259-.034l.945-.253c.533-.143.85-.69.707-1.225-.143-.533-.689-.856-1.225-.707l-.945.253c-.533.143-.85.69-.707 1.225.12.446.524.741.966.741zm4.723-1.267c.085 0 .172-.011.259-.034l.944-.253c.533-.143.85-.691.707-1.225s-.688-.854-1.224-.707l-.944.253c-.533.143-.85.691-.707 1.225.119.446.523.741.965.741zm1.188 32.001l-.253-.945c-.143-.533-.691-.851-1.225-.707-.534.143-.85.691-.707 1.225l.253.945c.12.447.524.741.965.741.085 0 .173-.011.259-.034.535-.143.851-.692.708-1.225zm-2.531-9.446l-.253-.944c-.143-.532-.69-.852-1.225-.707-.533.143-.85.691-.707 1.225l.253.944c.12.446.523.741.965.741.085 0 .172-.011.259-.034.534-.143.851-.692.708-1.225zm1.266 4.722l-.253-.944c-.143-.533-.69-.855-1.225-.707-.533.143-.85.691-.707 1.225l.253.944c.12.446.523.741.965.741.085 0 .172-.011.259-.034.534-.143.851-.691.708-1.225zm46.754-15.819c-.536-.146-1.082.173-1.225.707l-.253.944c-.143.533.173 1.081.707 1.225.087.023.174.034.26.034.441 0 .846-.294.965-.741l.253-.944c.142-.534-.174-1.081-.707-1.225zm1.264-4.724c-.537-.146-1.082.175-1.225.707l-.253.944c-.143.533.174 1.082.707 1.225.087.023.174.034.259.034.442 0 .846-.295.965-.741l.253-.944c.144-.533-.172-1.082-.706-1.225zm1.647-3.983c-.103-.541-.624-.892-1.17-.794-.542.104-.898.628-.794 1.171.028.146.043.297.042.45 0 .08-.004.159-.012.239-.052.55.351 1.038.9 1.091.032.004.064.005.096.005.51 0 .945-.388.995-.904.014-.145.021-.288.021-.429.001-.275-.025-.554-.078-.829zm-9.467-3.038l.944.253c.087.023.174.034.259.034.442 0 .846-.295.965-.741.143-.533-.174-1.082-.707-1.225l-.944-.253c-.538-.147-1.082.174-1.225.707-.142.534.175 1.082.708 1.225zm4.723 1.267l.945.253c.087.023.174.034.259.034.442 0 .846-.295.965-.741.143-.534-.174-1.082-.707-1.225l-.945-.253c-.536-.148-1.083.174-1.225.707-.142.534.174 1.082.708 1.225zm.567 15.201c-.535-.143-1.083.174-1.225.707l-.253.944c-.143.533.173 1.081.707 1.225.087.023.174.034.26.034.441 0 .846-.294.965-.741l.253-.944c.143-.534-.174-1.082-.707-1.225z"/>
                        <path d="M48.421 44.751c-.532-.142-1.082.173-1.225.707l-.191.712v-.172c0-.017-.009-.031-.01-.048v-3.815c.001-.017.01-.031.01-.048v-.978c0-.017-.009-.031-.01-.048v-3.815c.001-.017.01-.031.01-.048v-.978c0-.017-.009-.031-.01-.048v-3.815c.001-.017.01-.031.01-.048v-.978c0-.017-.009-.031-.01-.048v-3.815c.001-.017.01-.031.01-.048v-.978c0-.017-.009-.031-.01-.048v-3.815c.001-.017.01-.031.01-.048v-.981c0-.017-.009-.031-.01-.048v-3.815c.001-.017.01-.031.01-.048v-.979c0-.017-.009-.031-.01-.048v-3.814c.001-.017.01-.031.01-.048v-.979c0-.017-.009-.031-.01-.048V7.908c.001-.017.01-.031.01-.048v-.979c0-.017-.009-.031-.01-.048V4.405C46.996 1.977 45.02 0 42.59 0H17.401c-2.429 0-4.405 1.977-4.405 4.405v41.759l-.191-.712c-.143-.533-.69-.855-1.225-.707-.533.143-.85.691-.707 1.225l.253.944c.143.532.688.853 1.225.707.297-.079.524-.285.646-.542v2.373c-.05.006-.1.002-.15.016-.533.143-.85.691-.707 1.225l.253.944c.085.318.319.552.604.664v3.288c0 2.429 1.976 4.405 4.405 4.405H42.59c2.429 0 4.405-1.977 4.405-4.405v-3.283c.29-.11.528-.345.614-.668l.253-.944c.143-.533-.174-1.082-.707-1.225-.054-.014-.106-.011-.16-.016v-2.364c.001-.005.004-.009.004-.015.12.261.351.468.65.548.534.143 1.082-.173 1.225-.707l.253-.945c.144-.528-.172-1.076-.706-1.219zM14.996 8h30v38h-30V8zm2.405-6H42.59c1.326 0 2.405 1.079 2.405 2.405V6h-30V4.405C14.996 3.079 16.075 2 17.401 2zM42.59 58H17.401c-1.326 0-2.405-1.079-2.405-2.405V48h30v7.595c0 1.326-1.079 2.405-2.406 2.405zm8.362-22.694c-.537-.147-1.082.174-1.225.707l-.253.944c-.143.533.174 1.082.707 1.225.087.023.174.034.259.034.442 0 .846-.295.965-.741l.253-.944c.144-.534-.173-1.083-.706-1.225z"/>
                        <path d="M49.687 40.028c-.537-.146-1.082.173-1.225.707l-.253.944c-.143.533.173 1.081.707 1.225.087.023.174.034.26.034.441 0 .846-.294.965-.741l.253-.944c.143-.533-.174-1.081-.707-1.225zm2.53-9.446c-.534-.148-1.082.174-1.224.707l-.253.945c-.143.534.174 1.082.708 1.225.086.023.173.034.259.034.442 0 .846-.295.965-.741l.253-.945c.142-.535-.175-1.082-.708-1.225zm1.266-4.723c-.537-.145-1.082.175-1.225.707l-.253.944c-.143.533.174 1.082.707 1.225.087.023.174.034.259.034.442 0 .846-.295.965-.741l.253-.944c.144-.533-.173-1.082-.706-1.225z"/>
                    </svg>
                </div>
                <div class="shake-action">Give your phone a shake.</div>
            </div>
            <div class="shake-click">
                Doesn't work? Well, we still have a button for you.
                <button class="shake-button" onClick={::shake}>Shake It</button>
            </div>

        </div>

        <div class="ballot" style={{display: ::question() ? "block" : "none"}}>
            <div class="ballot-list" style={{display: ::answered() ? "none" : "flex"}}>
                <div class="answer-text">Please select your option:</div>
                {::question() && ::question().pool.answers.map(answer =>
                    <div class="answer" onClick={() => ::answer(answer.id)}>
                        {answer.body}
                    </div>
                )}
            </div>
            <div class="gotcha" style={{display: ::answered() ? "flex" : "none"}}>
                <div class="title">Gotcha!</div>
                <div>Feel free to shake <br />while we are waiting for others.</div>
                <button className="shake-button" onClick={::shake}>Shake It</button>
            </div>
        </div>
    </div>
</section>